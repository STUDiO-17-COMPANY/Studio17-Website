<!DOCTYPE html>
<html lang="en" class="bg-black">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nerouppos Barber Shop | Limassol</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200;400;700&family=Manrope:wght@300;400;600&display=swap" rel="stylesheet">
    
    <!-- Icons (Updated to UMD build for browser support) -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gold: '#D4AF37',
                        golddim: '#aa8c2c',
                        charcoal: '#121212',
                        offwhite: '#E0E0E0'
                    },
                    fontFamily: {
                        display: ['Oswald', 'sans-serif'],
                        body: ['Manrope', 'sans-serif'],
                    },
                    backgroundImage: {
                        'noise': "url('data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noiseFilter%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.65%22 numOctaves=%223%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noiseFilter)%22 opacity=%220.05%22/%3E%3C/svg%3E')",
                    }
                }
            }
        }
    </script>

    <!-- Styles for Lenis & GSAP specific tweaks -->
    <style>
        html.lenis, html.lenis body {
            height: auto;
        }
        .lenis.lenis-smooth {
            scroll-behavior: auto !important;
        }
        .lenis.lenis-smooth [data-lenis-prevent] {
            overscroll-behavior: contain;
        }
        .lenis.lenis-stopped {
            overflow: hidden;
        }
        .lenis.lenis-scrolling iframe {
            pointer-events: none;
        }

        body {
            overflow-x: hidden;
            background-color: #050505;
        }
        
        /* Custom Utilities */
        .text-outline {
            -webkit-text-stroke: 1px rgba(255, 255, 255, 0.2);
            color: transparent;
        }
        
        .clip-text-image {
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            background-image: url('https://images.unsplash.com/photo-1534353436294-0dbd4bdac845?q=80&w=2000&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }

        .cta-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.1);
            transform: skewX(-20deg);
            transition: 0.5s;
        }
        .cta-btn:hover::before {
            left: 100%;
        }

        /* Loader */
        #loader {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #D4AF37;
        }

        /* Nav backdrop for better visibility */
        nav {
            background: linear-gradient(to bottom, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%);
        }
    </style>
</head>
<body class="text-offwhite font-body bg-noise selection:bg-gold selection:text-black">

    <!-- Loading Screen -->
    <div id="loader">
        <div class="text-3xl font-display font-bold tracking-widest uppercase animate-pulse">Nerouppos</div>
    </div>

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 px-6 py-6 flex justify-between items-center mix-blend-difference pointer-events-none">
        <a href="#" class="text-2xl font-display font-bold tracking-tighter text-white pointer-events-auto">NEROUPPOS</a>
        <button class="hidden md:flex group items-center gap-2 text-sm uppercase tracking-widest hover:text-gold transition-colors duration-300 pointer-events-auto text-white">
            <span>Menu</span>
            <div class="w-8 h-[1px] bg-white group-hover:bg-gold transition-colors"></div>
        </button>
        <a href="#booking" class="md:hidden bg-white text-black px-4 py-2 font-display text-sm uppercase font-bold tracking-wide pointer-events-auto">
            Book
        </a>
    </nav>

    <!-- Hero Section -->
    <section class="relative h-screen w-full flex items-center justify-center overflow-hidden">
        <div class="absolute inset-0 z-0">
            <!-- Optimized Image: Reduced width from 2670 to 1920 for performance -->
            <img src="https://images.unsplash.com/photo-1503951914875-452162b7f304?q=80&w=1920&auto=format&fit=crop" 
                 alt="Barber Texture" 
                 class="w-full h-full object-cover opacity-40 scale-110" 
                 id="hero-bg">
            <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-black opacity-90"></div>
        </div>

        <div class="relative z-10 flex flex-col items-center text-center px-4">
            <div class="overflow-hidden mb-2">
                <h2 class="hero-text text-gold font-display text-sm md:text-base tracking-[0.3em] uppercase transform translate-y-full">
                    Kato Polemidia, Limassol
                </h2>
            </div>
            <div class="overflow-hidden">
                <h1 class="hero-text text-6xl md:text-8xl lg:text-9xl font-display font-bold uppercase leading-[0.9] transform translate-y-full">
                    Forge Your<br><span class="text-transparent bg-clip-text bg-gradient-to-b from-white to-gray-600">Identity</span>
                </h1>
            </div>
            
            <div class="mt-8 md:mt-12 opacity-0 hero-fade">
                <a href="#booking" class="cta-btn relative overflow-hidden inline-block bg-gold hover:bg-white text-black font-display font-bold text-lg px-8 py-4 uppercase tracking-wider transition-all duration-300">
                    Book Appointment
                </a>
            </div>
        </div>

        <!-- Scroll Indicator -->
        <div class="absolute bottom-10 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 opacity-0 hero-fade">
            <span class="text-[10px] uppercase tracking-widest text-gray-500">Scroll</span>
            <div class="w-[1px] h-12 bg-gray-800 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-1/2 bg-gold animate-slideDown"></div>
            </div>
        </div>
    </section>

    <!-- Intro / Marquee -->
    <div class="py-4 bg-gold text-black overflow-hidden whitespace-nowrap border-y border-gold/20">
        <div class="marquee-content flex gap-8 font-display font-bold text-xl uppercase tracking-widest">
            <span>Precision Cuts</span> • <span>Classic Shaves</span> • <span>Modern Styling</span> • <span>Nerouppos Barber Shop</span> • 
            <span>Precision Cuts</span> • <span>Classic Shaves</span> • <span>Modern Styling</span> • <span>Nerouppos Barber Shop</span> •
        </div>
    </div>

    <!-- The Experience -->
    <section class="py-24 md:py-32 px-6 md:px-12 bg-black relative">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
            
            <div class="order-2 md:order-1 relative">
                <div class="absolute -top-10 -left-10 w-20 h-20 border-t border-l border-gold/30"></div>
                <div class="relative h-[500px] overflow-hidden reveal-image-trigger">
                    <!-- Added loading="lazy" and reduced width -->
                    <img src="https://images.unsplash.com/photo-1621605815971-fbc98d665033?q=80&w=1200&auto=format&fit=crop" 
                         alt="Barber Precision" 
                         loading="lazy"
                         class="w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-700 reveal-image scale-110">
                </div>
                <div class="absolute -bottom-10 -right-10 w-20 h-20 border-b border-r border-gold/30"></div>
            </div>

            <div class="order-1 md:order-2 space-y-8 reveal-text-trigger">
                <h3 class="text-gold font-display text-sm tracking-[0.2em] uppercase">The Philosophy</h3>
                <h2 class="text-4xl md:text-6xl font-display font-bold leading-tight">
                    Not Just A Cut.<br>A <span class="text-outline">Statement.</span>
                </h2>
                <p class="text-gray-400 text-lg leading-relaxed max-w-md">
                    At Nerouppos, we believe a haircut is the foundation of a man's confidence. Located in the heart of Kato Polemidia, we merge traditional Cypriot hospitality with razor-sharp modern techniques.
                </p>
                <div class="flex gap-8 pt-4">
                    <div class="flex flex-col">
                        <span class="font-display text-3xl text-white font-bold">100%</span>
                        <span class="text-xs text-gray-500 uppercase tracking-wider">Precision</span>
                    </div>
                    <div class="flex flex-col">
                        <span class="font-display text-3xl text-white font-bold">Est.</span>
                        <span class="text-xs text-gray-500 uppercase tracking-wider">Limassol</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services -->
    <section class="py-24 bg-charcoal relative overflow-hidden min-h-screen md:min-h-0">
        <div class="absolute top-0 right-0 w-1/3 h-full bg-gradient-to-l from-black/50 to-transparent pointer-events-none"></div>
        
        <div class="max-w-7xl mx-auto px-6 md:px-12 relative z-10">
            <div class="flex flex-col md:flex-row justify-between items-end mb-20 border-b border-white/10 pb-8">
                <h2 class="text-5xl md:text-7xl font-display font-bold uppercase">Services<span class="text-gold">.</span></h2>
                <p class="text-gray-400 mt-4 md:mt-0 text-right">Mastery in every detail.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8" id="services-grid">
                <!-- Service Item 1 -->
                <div class="service-item group p-6 border border-white/5 hover:border-gold/30 bg-black/40 transition-all duration-500 hover:-translate-y-2 opacity-100">
                    <div class="flex justify-between items-start mb-4">
                        <i data-lucide="scissors" class="text-gold w-8 h-8"></i>
                        <span class="font-display text-xl text-white">€15</span>
                    </div>
                    <h3 class="text-2xl font-display font-bold text-white mb-2 group-hover:text-gold transition-colors">HAIRCUT</h3>
                    <p class="text-gray-500 text-sm">45 mins</p>
                </div>

                <!-- Service Item 2 -->
                <div class="service-item group p-6 border border-white/5 hover:border-gold/30 bg-black/40 transition-all duration-500 hover:-translate-y-2 opacity-100">
                    <div class="flex justify-between items-start mb-4">
                        <i data-lucide="smile" class="text-gold w-8 h-8"></i>
                        <span class="font-display text-xl text-white">€12</span>
                    </div>
                    <h3 class="text-2xl font-display font-bold text-white mb-2 group-hover:text-gold transition-colors">KIDS HAIRCUT</h3>
                    <p class="text-gray-500 text-sm">30 mins</p>
                </div>

                <!-- Service Item 3 -->
                <div class="service-item group p-6 border border-white/5 hover:border-gold/30 bg-black/40 transition-all duration-500 hover:-translate-y-2 opacity-100">
                    <div class="flex justify-between items-start mb-4">
                        <i data-lucide="droplet" class="text-gold w-8 h-8"></i>
                        <span class="font-display text-xl text-white">€15</span>
                    </div>
                    <h3 class="text-2xl font-display font-bold text-white mb-2 group-hover:text-gold transition-colors">SHAVE</h3>
                    <p class="text-gray-500 text-sm">30 mins</p>
                </div>

                <!-- Service Item 4 -->
                <div class="service-item group p-6 border border-white/5 hover:border-gold/30 bg-black/40 transition-all duration-500 hover:-translate-y-2 opacity-100">
                    <div class="flex justify-between items-start mb-4">
                        <i data-lucide="zap" class="text-gold w-8 h-8"></i>
                        <span class="font-display text-xl text-white">€5</span>
                    </div>
                    <h3 class="text-2xl font-display font-bold text-white mb-2 group-hover:text-gold transition-colors">BEARD TRIMMING (TRIMMER)</h3>
                    <p class="text-gray-500 text-sm">15 mins</p>
                </div>

                <!-- Service Item 5 -->
                <div class="service-item group p-6 border border-white/5 hover:border-gold/30 bg-black/40 transition-all duration-500 hover:-translate-y-2 opacity-100">
                    <div class="flex justify-between items-start mb-4">
                        <i data-lucide="shield" class="text-gold w-8 h-8"></i>
                        <span class="font-display text-xl text-white">€10</span>
                    </div>
                    <h3 class="text-2xl font-display font-bold text-white mb-2 group-hover:text-gold transition-colors">BEARD TRIMMING (RAZOR)</h3>
                    <p class="text-gray-500 text-sm">20 mins</p>
                </div>

                <!-- Service Item 6 -->
                <div class="service-item group p-6 border border-white/5 hover:border-gold/30 bg-black/40 transition-all duration-500 hover:-translate-y-2 opacity-100">
                    <div class="flex justify-between items-start mb-4">
                        <i data-lucide="crown" class="text-gold w-8 h-8"></i>
                        <span class="font-display text-xl text-white">€30</span>
                    </div>
                    <h3 class="text-2xl font-display font-bold text-white mb-2 group-hover:text-gold transition-colors">HAIRCUT & SHAVE</h3>
                    <p class="text-gray-500 text-sm">1 hour, 20 mins</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Us (Full Width Visual) -->
    <section class="relative h-[80vh] flex items-center justify-center overflow-hidden">
        <!-- Added loading="lazy" and reduced width -->
        <img src="https://images.unsplash.com/photo-1599351431202-1e0f0137899a?q=80&w=1920&auto=format&fit=crop" 
             class="absolute inset-0 w-full h-full object-cover grayscale opacity-30 parallax-bg" 
             loading="lazy"
             alt="Barber Tools">
        
        <div class="relative z-10 text-center max-w-4xl px-6">
            <h2 class="text-5xl md:text-8xl font-display font-bold uppercase leading-none mb-8 mix-blend-overlay text-white">
                Discipline.<br>Standard.<br>Style.
            </h2>
            <p class="text-lg md:text-xl text-gray-300 font-light tracking-wide">
                We don't rush. We don't cut corners. We build your image with the best tools and the sharpest eyes in Cyprus.
            </p>
        </div>
    </section>

    <!-- Location & Booking -->
    <section id="booking" class="py-24 bg-black px-6 md:px-12">
        <div class="max-w-7xl mx-auto flex flex-col lg:flex-row gap-12">
            
            <!-- Info -->
            <div class="lg:w-1/2 space-y-12">
                <div>
                    <h2 class="text-5xl font-display font-bold uppercase text-white mb-2">Visit Us</h2>
                    <div class="h-1 w-20 bg-gold"></div>
                </div>

                <div class="space-y-6">
                    <div class="flex items-start gap-4">
                        <i data-lucide="map-pin" class="text-gold mt-1"></i>
                        <div>
                            <h4 class="font-display font-bold text-xl text-white">Nerouppos Barber Shop</h4>
                            <p class="text-gray-400">Kato Polemidia<br>Limassol, Cyprus</p>
                        </div>
                    </div>

                    <div class="flex items-start gap-4">
                        <i data-lucide="phone" class="text-gold mt-1"></i>
                        <div>
                            <h4 class="font-display font-bold text-xl text-white">Contact</h4>
                            <p class="text-gray-400">+357 99 123 456</p>
                            <p class="text-gray-400">info@nerouppos.com</p>
                        </div>
                    </div>

                    <div class="flex items-start gap-4">
                        <i data-lucide="clock" class="text-gold mt-1"></i>
                        <div>
                            <h4 class="font-display font-bold text-xl text-white">Hours</h4>
                            <p class="text-gray-400">Mon - Fri: 09:00 - 19:30</p>
                            <p class="text-gray-400">Sat: 09:00 - 16:00</p>
                            <p class="text-gray-500 text-sm mt-1">Sun: Closed (We rest to stay sharp)</p>
                        </div>
                    </div>
                </div>

                <!-- CTA -->
                <a href="#" class="block w-full md:w-auto text-center bg-gold hover:bg-white text-black font-display font-bold text-xl py-4 uppercase tracking-widest transition-colors duration-300">
                    Book Now
                </a>
            </div>

            <!-- Map Mockup -->
            <div class="lg:w-1/2 h-[500px] bg-gray-900 relative group overflow-hidden border border-white/10 grayscale hover:grayscale-0 transition-all duration-500">
                <!-- Using an image as a map placeholder for the demo - Added Lazy Load -->
                <img src="https://images.unsplash.com/photo-1569336415962-a4bd9f69cd83?q=80&w=1200&auto=format&fit=crop" 
                     class="w-full h-full object-cover opacity-60 group-hover:opacity-80 transition-opacity" 
                     loading="lazy"
                     alt="Map Location">
                
                <div class="absolute inset-0 flex items-center justify-center">
                    <div class="bg-black/80 backdrop-blur-sm p-4 border border-gold/50 text-center">
                        <i data-lucide="navigation" class="text-gold mx-auto mb-2"></i>
                        <span class="font-display font-bold text-white uppercase">Open in Google Maps</span>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- Footer -->
    <footer class="py-8 bg-black border-t border-white/5 text-center">
        <p class="text-gray-600 text-sm uppercase tracking-widest">
            &copy; 2025 Nerouppos Barber Shop. All rights reserved.
        </p>
        <div class="flex justify-center gap-6 mt-4">
            <a href="#" class="text-gray-500 hover:text-gold transition-colors"><i data-lucide="instagram"></i></a>
            <a href="#" class="text-gray-500 hover:text-gold transition-colors"><i data-lucide="facebook"></i></a>
        </div>
    </footer>

    <!-- Scripts -->
    
    <!-- GSAP & Plugins -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <!-- Lenis Smooth Scroll (Updated to browser-compatible bundled version) -->
    <script src="https://unpkg.com/lenis@1.0.45/dist/lenis.min.js"></script>

    <script>
        // Initialize Icons
        lucide.createIcons();

        // Initialize Lenis (Smooth Scroll)
        // Note: Newer Lenis versions might attach to window.Lenis
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            direction: 'vertical',
            gestureDirection: 'vertical',
            smooth: true,
            mouseMultiplier: 1,
            smoothTouch: false,
            touchMultiplier: 2,
        });

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);

        // GSAP Animations
        gsap.registerPlugin(ScrollTrigger);

        // Loader - OPTIMIZED
        let isLoaded = false;

        function startSite() {
            if (isLoaded) return;
            isLoaded = true;

            const tl = gsap.timeline();
            
            tl.to("#loader", {
                opacity: 0,
                duration: 0.5, // Faster fade out
                pointerEvents: "none",
                ease: "power2.inOut"
            })
            .to(".hero-text", {
                y: 0,
                duration: 1,
                stagger: 0.15, // Slightly faster stagger
                ease: "power4.out"
            }, "-=0.2")
            .to(".hero-fade", {
                opacity: 1,
                duration: 0.8,
                ease: "power2.out"
            }, "-=0.6");
        }

        // Run when everything loads
        window.addEventListener('load', startSite);

        // Failsafe: Run anyway after 2.5 seconds if network is slow
        setTimeout(startSite, 2500);

        // Hero Parallax
        gsap.to("#hero-bg", {
            scrollTrigger: {
                trigger: "body",
                start: "top top",
                end: "bottom top",
                scrub: true
            },
            yPercent: 30,
            scale: 1
        });

        // Marquee
        gsap.to(".marquee-content", {
            xPercent: -50,
            repeat: -1,
            duration: 20,
            ease: "linear"
        });

        // Experience Section Reveal
        gsap.from(".reveal-text-trigger > *", {
            scrollTrigger: {
                trigger: ".reveal-text-trigger",
                start: "top 80%",
            },
            y: 50,
            opacity: 0,
            duration: 1,
            stagger: 0.1,
            ease: "power3.out"
        });

        gsap.to(".reveal-image", {
            scrollTrigger: {
                trigger: ".reveal-image-trigger",
                start: "top bottom",
                end: "bottom top",
                scrub: 1
            },
            scale: 1,
            yPercent: 10
        });

        // Services Stagger - FIXED AND SIMPLIFIED
        // We set initial state via JS so they are visible by default if JS fails,
        // but hidden then revealed if JS works.
        const serviceItems = document.querySelectorAll('.service-item');
        
        // Initial set to hidden and offset
        gsap.set(serviceItems, { 
            y: 30, 
            opacity: 0 
        });

        // Use batch for better performance and visibility detection
        ScrollTrigger.batch(serviceItems, {
            start: "top 95%", // Trigger almost immediately when entering viewport
            onEnter: batch => gsap.to(batch, {
                opacity: 1, 
                y: 0, 
                stagger: 0.15, 
                overwrite: true,
                duration: 0.8,
                ease: "power3.out"
            }),
            // Ensure they stay visible once revealed
            once: true
        });

        // Parallax Full Width Image
        gsap.to(".parallax-bg", {
            scrollTrigger: {
                trigger: ".parallax-bg",
                start: "top bottom",
                end: "bottom top",
                scrub: true
            },
            yPercent: 20
        });

    </script>
</body>
</html>